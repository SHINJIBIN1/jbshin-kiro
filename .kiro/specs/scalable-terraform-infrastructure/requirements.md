# Requirements Document

## Introduction

이 프로젝트는 Terraform을 사용하여 확장 가능한 웹 애플리케이션 인프라를 구축하는 것을 목표로 합니다. 소규모 사용자(10명 이하)를 위한 기본 인프라부터 시작하여 중규모(100명 이상) 및 대규모(1000명 이상) 사용자로 확장할 수 있는 구조를 제공합니다. 모든 인프라 코드는 GitHub을 통해 버전 관리되며, 인프라 변경 시 다이어그램을 자동으로 생성하고 README 파일에 업데이트합니다. 또한 인프라 모니터링을 위한 간단한 대시보드를 구현합니다.

## Requirements

### Requirement 1: 확장 가능한 인프라 구조

**User Story:** 인프라 관리자로서, 사용자 수에 따라 확장 가능한 인프라 구조를 구현하고 싶습니다. 이를 통해 사용자 증가에 따른 리소스 요구사항을 효율적으로 관리할 수 있습니다.

#### Acceptance Criteria

1. WHEN 소규모 배포(10명 이하)가 필요할 때 THEN 시스템은 최소한의 리소스로 기본 웹 애플리케이션 인프라를 제공해야 합니다.
2. WHEN 중규모 배포(100명 이상)가 필요할 때 THEN 시스템은 추가 리소스를 자동으로 프로비저닝하여 확장해야 합니다.
3. WHEN 대규모 배포(1000명 이상)가 필요할 때 THEN 시스템은 고가용성과 내결함성을 갖춘 인프라로 확장해야 합니다.
4. IF 사용자 수가 정의된 임계값을 초과하면 THEN 시스템은 다음 규모의 인프라로 쉽게 전환할 수 있어야 합니다.

### Requirement 2: 인프라 코드 버전 관리

**User Story:** 개발자로서, 인프라 코드를 GitHub에서 버전 관리하고 싶습니다. 이를 통해 변경 사항을 추적하고 협업할 수 있습니다.

#### Acceptance Criteria

1. WHEN 인프라 코드가 작성될 때 THEN 모든 코드는 GitHub 저장소(https://github.com/SHINJIBIN1/jbshin-kiro)에 저장되어야 합니다.
2. WHEN 인프라 코드가 변경될 때 THEN 변경 사항이 GitHub에 커밋되고 추적 가능해야 합니다.

### Requirement 3: 인프라 다이어그램 자동 생성

**User Story:** 인프라 관리자로서, 인프라가 변경될 때마다 최신 다이어그램을 자동으로 생성하고 싶습니다. 이를 통해 인프라의 현재 상태를 시각적으로 이해할 수 있습니다.

#### Acceptance Criteria

1. WHEN 인프라 코드가 변경될 때 THEN 시스템은 자동으로 인프라 다이어그램을 생성해야 합니다.
2. WHEN 다이어그램이 생성될 때 THEN README 파일에 최신 다이어그램이 업데이트되어야 합니다.
3. WHEN 다이어그램 도구를 선택할 때 THEN AWS diagram MCP, Mermaid, Graphviz, D3 등 다양한 도구를 테스트하고 가장 적합한 도구를 선택해야 합니다.

### Requirement 4: AWS 리전 설정

**User Story:** 인프라 관리자로서, 모든 인프라를 특정 AWS 리전에 배포하고 싶습니다. 이를 통해 리소스 관리와 비용 추적을 일관되게 유지할 수 있습니다.

#### Acceptance Criteria

1. WHEN 인프라가 배포될 때 THEN 모든 리소스는 us-west-2 리전에 생성되어야 합니다.
2. WHEN 새로운 리소스가 추가될 때 THEN 기본적으로 us-west-2 리전에 배포되어야 합니다.

### Requirement 5: 인프라 모니터링 대시보드

**User Story:** 인프라 관리자로서, 인프라의 현재 상태를 모니터링할 수 있는 간단한 대시보드를 구현하고 싶습니다. 이를 통해 인프라의 상태, 비용, 리소스 사용량을 한눈에 파악할 수 있습니다.

#### Acceptance Criteria

1. WHEN 대시보드에 접속할 때 THEN 현재 인프라 다이어그램이 표시되어야 합니다.
2. WHEN 대시보드에 접속할 때 THEN 인프라 비용 분석 정보가 표시되어야 합니다.
3. WHEN 대시보드에 접속할 때 THEN 리소스 현황 및 모니터링 정보가 표시되어야 합니다.
4. WHEN 대시보드를 구현할 때 THEN 로컬 서버 구축 또는 정적 HTML 파일 등 가장 단순한 방법을 사용해야 합니다.

### Requirement 6: 간소화된 구현

**User Story:** 개발자로서, 실습 목적에 맞게 간소화된 인프라 코드를 작성하고 싶습니다. 이를 통해 핵심 기능에 집중하고 불필요한 복잡성을 피할 수 있습니다.

#### Acceptance Criteria

1. WHEN 인프라 코드를 작성할 때 THEN 복잡한 워크플로우나 코드 생성을 지양하고 단순하고 가벼운 코드를 작성해야 합니다.
2. WHEN 인프라를 설계할 때 THEN 배포 승인 프로세스나 롤백 메커니즘과 같은 복잡한 기능은 제외해야 합니다.#
## Requirement 7: DNS 설정

**User Story:** 사용자로서, 웹 애플리케이션에 도메인 이름(www.jbshin.shop)으로 접근하고 싶습니다. 이를 통해 IP 주소 대신 기억하기 쉬운 도메인 이름으로 서비스에 접근할 수 있습니다.

#### Acceptance Criteria

1. WHEN 사용자가 www.jbshin.shop 도메인으로 접속할 때 THEN 시스템은 해당 요청을 웹 애플리케이션으로 올바르게 라우팅해야 합니다.
2. WHEN 인프라 규모가 변경될 때 THEN DNS 설정은 새로운 인프라 구성에 맞게 자동으로 업데이트되어야 합니다.
3. WHEN DNS 설정이 변경될 때 THEN 최소한의 서비스 중단으로 전환이 이루어져야 합니다.